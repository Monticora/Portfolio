@model List<QuestionAndAnswer>
@{
    ViewData["Title"] = "QA";
}

<div>
    <a asp-controller="Subcategory" asp-action="Index" asp-route-id="@(Model.Count() != 0 ? Model.ElementAt(0).Subcategory.CategoryId : null)" class="btn btn-secondary" style="width:150px">
        Back
    </a>
</div>

<h1>QA List:</h1>

@if (User.IsInRole(StaticDetails.Roles.Role_Admin))
{
    <a asp-controller="QA" asp-action="CreateOrUpdate">
        Create QA
    </a>
            @foreach (var qa in Model)
            {
                <div class="border-bottom">
                   * @qa.Subcategory.Name * @Html.Raw(qa.Question)
                </div>
                <div class="border-top">
                    @Html.Raw(qa.Answer)
                </div>
                <div class="w-75 btn-group" role="group">
                    <a asp-controller="QA" asp-action="CreateOrUpdate" asp-route-id="@qa.Id" class="btn btn-primary mx-2">
                        Edit
                    </a>
                    <a asp-controller="QA" asp-action="Delete" asp-route-id="@qa.Id" class="btn btn-danger mx-2">
                        Delete
                    </a>
                </div>
            }
}
else
{
            @foreach (var qa in Model)
            {
                <div class="border-bottom">
                    @Html.Raw(qa.Question)          
                </div>
                <div class="border-top">
                    @Html.Raw(qa.Answer)
                </div>
            }
}